<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flip the card</title>
    <link rel="stylesheet" href="style.css">
</head>
    <body>
        <div class="wrapper">
            <section class="headSection">
                <div class="headSection__wrapper">
                    <div class="headSection__header">
                        <div class="headSection__header-logoWrapp">
                            <img src="img/dice.png" alt="casino" class="headSection__header-logo">
                            <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
                        </div>
                        <div class="headSection__header-rigtSide">
                            <div class="socialLink socialLink--header">
                                <span class="socialLink__text">Follow Us</span>
                                <img src="img/facebook.svg" alt="#" class="socialLink__img">
                                <img src="img/inst.svg" alt="#" class="socialLink__img">
                                <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
                            </div>
                            <a href="http://www.chembunal-lootments.icu/" class="headSection__header-button">Join Now</a>
                        </div>
                    </div>
                    <div class="headSection__body">
                        <div class="headSection__title">
                            <img src="img/mainText.png" alt="Flip the cards and get your bonus" class="headSection__title-img">
                        </div>

                        <div class="cardWrapper">
                            <div class="cardItem">
                                <div class="cardItem__frontSide">
                                    <img src="img/card.png" alt="" class="cardItem__img">
                                </div>
                                <div class="cardItem__backSide">
                                    <img src="img/card-back.png" alt="" class="cardItem__backSide-tryAgain cardItem__img">
                                    <div class="cardItem__backSide-win">
                                        <img src="img/winCard.png" alt="" class="cardItem__img">
                                        <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
                                    </div>
                                </div>
                            </div>
                            <div class="cardItem">
                                <div class="cardItem__frontSide">
                                    <img src="img/card.png" alt="" class="cardItem__img">
                                </div>
                                <div class="cardItem__backSide">
                                    <img src="img/card-back.png" alt="" class="cardItem__backSide-tryAgain cardItem__img">
                                    <div class="cardItem__backSide-win">
                                        <img src="img/winCard.png" alt="" class="cardItem__img">
                                        <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
                                    </div>
                                </div>
                            </div>
                            <div class="cardItem">
                                <div class="cardItem__frontSide">
                                    <img src="img/card.png" alt="" class="cardItem__img">
                                </div>
                                <div class="cardItem__backSide">
                                    <img src="img/card-back.png" alt="" class="cardItem__backSide-tryAgain cardItem__img">
                                    <div class="cardItem__backSide-win">
                                        <img src="img/winCard.png" alt="" class="cardItem__img">
                                        <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
                                    </div>
                                </div>
                            </div>
                            <div class="cardItem">
                                <div class="cardItem__frontSide">
                                    <img src="img/card.png" alt="" class="cardItem__img">
                                </div>
                                <div class="cardItem__backSide">
                                    <img src="img/card-back.png" alt="" class="cardItem__backSide-tryAgain cardItem__img">
                                    <div class="cardItem__backSide-win">
                                        <img src="img/winCard.png" alt="" class="cardItem__img">
                                        <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <img src="img/coins.png" class="headSection__coins">

                </img>
            </section>

            <div class="payments">
                <div class="payments__list">
                    <div class="payments__imgWrapper">
                        <img src="img/payments/UPI.svg" alt="UPI" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/GPay.svg" alt="Gpay" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/Paytm.svg" alt="Paytm_Logo" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/RuPay.svg" alt="RuPay" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/b3.svg" alt="logo" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/YesBank.svg" alt="YesBank" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/icici.svg" alt="icici" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/Visa.svg" alt="visa" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/Mastercard.svg" alt="Mastercard" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/phonePe.svg" alt="phonePE" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/pnb.svg" alt="pnb" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/b1.svg" alt="HDFC_Bank" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/b2.svg" alt="logo" class="payments__img">
                    </div>
                    <div class="payments__imgWrapper">
                        <img src="img/payments/b4.svg" alt="kotak" class="payments__img">
                    </div>
                </div>
            </div>
            <div class="license">
                <div class="socialLink socialLink--footer">
                    <span class="socialLink__text">Follow Us</span>
                    <img src="img/facebook.svg" alt="#" class="socialLink__img">
                    <img src="img/inst.svg" alt="#" class="socialLink__img">
                    <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
                </div>
                <div class="license__imgWrapper">
                    <img src="img/curacao.png" alt="curacao" class="license__img">
                </div>
                <span class="license__desc">
                     is operated by Globis N.V., with a company registered under the laws of Curacao under registration number 2 and licensed by WAS International N.V., with a company registered under the laws of Curacao under registration number 2, license Nr. 365/JAZ.
                </span>
            </div>
        </div>
        <div class="modal">
            <div class="modal__body">
                <img src="img/winCard.png" alt="" class="modal__img">
                <img src="img/modalCardBG.png" alt="" class="modal__BG">
                <a href="http://www.chembunal-lootments.icu/" class="linkWrapper"></a>
            </div>
        </div>


        <script src="/main.js"></script>
        <script>
            const images = document.querySelectorAll('img');
            images.forEach(item => {
                item.setAttribute('draggable', false);
            });

            const modal = document.querySelector('.modal');
            const btnTest = document.querySelector('.btnTest');
            const cardItems = document.querySelectorAll('.cardItem');


            let state;
            let rollNum = 0;


            const cardOnClickHandler = (e) => {
                const card = e.target.parentNode.parentNode
                random();
                addClass(card);
                dellListener();
                changeClass(cardItems, 'add', 'tryAgainOpen');

                state
                ?
                openModal()
                :
                setTimeout(() => {
                    addListener()
                    changeClass(cardItems, 'remove', 'tryAgainOpen')
                    removeClass(card)
                }, 3000);
            }


            cardItems.forEach((item)=>{
                item.addEventListener('click', cardOnClickHandler);
            })


            function addClass(item) {
                state ?
                item.classList.add('active','win')
                :
                item.classList.add('active','try');

            };
            function removeClass(item) {
                state ?
                item.classList.remove('active','win')
                :
                item.classList.remove('active','try');

            };


            function addListener() {
                cardItems.forEach((item)=>{
                    item.addEventListener('click', cardOnClickHandler);
                })
            }

            function dellListener() {
                cardItems.forEach((item)=>{
                    item.removeEventListener('click', cardOnClickHandler)
                })
            }

            function changeClass(array, status, className) {
                array.forEach((item)=>{
                    status === 'add' ?
                    item.classList.add(className)
                    :
                    item.classList.remove(className);
                })
            }

            function randomInteger(min, max) {
                let rand = min + Math.random() * (max - min);
                return Math.round(rand);
            }

            function random() {
                let num = randomInteger(1, 48);
                rollNum++
                num % 2 === 0 || rollNum === 3
                ?
                state = true
                :
                state = false;
            };

            function openModal() {
                setTimeout(() => {
                    modal.classList.add('active')
                }, 1000);
            };
            
        </script>
    </body>
</html>